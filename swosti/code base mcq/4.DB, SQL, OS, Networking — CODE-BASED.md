Perfect üëç
Here is **SENIOR-LEVEL, CODE-BASED MCQs**

## üß† PART 4 (301‚Äì400) ‚Äî **DB, SQL, OS, Networking (REAL CODE + TRAPS)**

> üî• Every MCQ has **code or query**
> üî• Focus on **deadlocks, isolation, race conditions, sockets, JDBC traps**
> üî• Very common in **senior backend interviews**

---

# üóÑÔ∏è DATABASE + SQL (CODE-BASED)

### 301. (DELETE vs TRUNCATE)

```sql
BEGIN;
DELETE FROM users;
ROLLBACK;
SELECT COUNT(*) FROM users;
```

What happens?

A) Table empty
B) Rows restored
C) Error
D) Depends on DB

‚úÖ **Ans:** B
(`DELETE` is transactional)

---

### 302.

```sql
BEGIN;
TRUNCATE TABLE users;
ROLLBACK;
```

Result?

A) Rows restored
B) Table empty
C) Error
D) Depends

‚úÖ **Ans:** B
(`TRUNCATE` auto-commit)

---

### 303. (Dirty Read)

**Tx1**

```sql
BEGIN;
UPDATE account SET balance = 0 WHERE id = 1;
```

**Tx2**

```sql
SELECT balance FROM account WHERE id = 1;
```

Which isolation allows dirty read?

A) READ COMMITTED
B) REPEATABLE READ
C) SERIALIZABLE
D) READ UNCOMMITTED

‚úÖ **Ans:** D

---

### 304. (Lost Update)

```sql
UPDATE product SET stock = stock - 1 WHERE id = 10;
```

Executed concurrently without lock ‚Üí causes?

A) Dirty read
B) Phantom read
C) Lost update
D) Deadlock

‚úÖ **Ans:** C

---

### 305. (Phantom Read)

```sql
SELECT COUNT(*) FROM orders WHERE amount > 1000;
```

Another transaction inserts new row ‚Üí problem?

A) Dirty read
B) Phantom read
C) Lost update
D) Non-repeatable read

‚úÖ **Ans:** B

---

### 306. (Index Trap)

```sql
SELECT * FROM users WHERE email LIKE '%@gmail.com';
```

Index on `email` used?

A) Yes
B) No
C) Sometimes
D) DB dependent

‚úÖ **Ans:** B
(leading wildcard disables index)

---

### 307.

```sql
SELECT * FROM users WHERE id + 1 = 100;
```

Index on `id` used?

A) Yes
B) No
C) Partial
D) Always

‚úÖ **Ans:** B
(function on column)

---

### 308. (JOIN Explosion)

```sql
SELECT * FROM A, B;
```

This creates?

A) Inner join
B) Cross join
C) Left join
D) Error

‚úÖ **Ans:** B

---

### 309. (NULL Trap)

```sql
SELECT * FROM users WHERE name = NULL;
```

Result?

A) All NULL names
B) No rows
C) Error
D) Depends

‚úÖ **Ans:** B
(use `IS NULL`)

---

### 310.

```sql
SELECT COUNT(col) FROM table;
```

What is counted?

A) All rows
B) Non-NULL values
C) NULL values
D) Depends

‚úÖ **Ans:** B

---

# üßµ OPERATING SYSTEM (CODE / LOGIC)

### 311. (Deadlock)

```text
T1 holds R1 ‚Üí waits R2
T2 holds R2 ‚Üí waits R1
```

This is?

A) Starvation
B) Livelock
C) Deadlock
D) Race condition

‚úÖ **Ans:** C

---

### 312. (Deadlock Condition)

Which condition breaks deadlock?

A) Mutual exclusion
B) Hold & wait
C) Circular wait
D) Preemption

‚úÖ **Ans:** D

---

### 313. (Context Switch)

Which triggers context switching?

A) CPU cache miss
B) Thread sleep
C) Disk read
D) All

‚úÖ **Ans:** D

---

### 314.

```java
while(true) {}
```

CPU behavior?

A) Idle
B) High CPU usage
C) Memory leak
D) Deadlock

‚úÖ **Ans:** B
(busy waiting)

---

### 315. (Thread Starvation)

Which causes starvation?

A) Round Robin
B) Priority scheduling
C) FCFS
D) Paging

‚úÖ **Ans:** B

---

### 316.

```java
Thread.sleep(1000);
```

Thread state?

A) WAITING
B) BLOCKED
C) TIMED_WAITING
D) RUNNABLE

‚úÖ **Ans:** C

---

### 317.

```java
obj.wait();
```

Thread must hold?

A) CPU
B) Lock on obj
C) Memory
D) Semaphore

‚úÖ **Ans:** B

---

### 318.

```java
obj.notify();
```

Effect?

A) Wakes all
B) Wakes one arbitrary thread
C) Wakes oldest
D) Immediate execution

‚úÖ **Ans:** B

---

# üåê NETWORKING (CODE / PROTOCOL)

### 319. (Blocking I/O)

```java
ServerSocket s = new ServerSocket(8080);
Socket c = s.accept();
```

`accept()` behavior?

A) Non-blocking
B) Blocking
C) Async
D) Polling

‚úÖ **Ans:** B

---

### 320. (Socket Leak)

```java
while(true){
   Socket s = server.accept();
}
```

Problem?

A) Deadlock
B) CPU leak
C) File descriptor leak
D) Thread leak

‚úÖ **Ans:** C

---

### 321. (TCP)

Which guarantees order?

A) UDP
B) IP
C) TCP
D) ICMP

‚úÖ **Ans:** C

---

### 322.

```text
SYN ‚Üí SYN-ACK ‚Üí ACK
```

Used in?

A) HTTP
B) UDP
C) TCP handshake
D) TLS

‚úÖ **Ans:** C

---

### 323. (HTTP Idempotency)

```http
PUT /users/1
```

Calling multiple times results?

A) Duplicate records
B) Same state
C) Error
D) Partial update

‚úÖ **Ans:** B

---

### 324.

```http
POST /users
```

Idempotent?

A) Yes
B) No
C) Sometimes
D) Depends

‚úÖ **Ans:** B

---

### 325. (HTTP Status)

```http
HTTP/1.1 204 No Content
```

Meaning?

A) Error
B) Success with body
C) Success without body
D) Redirect

‚úÖ **Ans:** C

---

# üß™ JDBC / CONNECTION POOL TRAPS

### 326.

```java
Connection c = ds.getConnection();
Statement s = c.createStatement();
ResultSet rs = s.executeQuery(q);
```

Not closing causes?

A) Memory leak
B) Thread leak
C) Connection leak
D) CPU leak

‚úÖ **Ans:** C

---

### 327.

```java
try(Connection c = ds.getConnection()) {
}
```

Behavior?

A) Connection leaked
B) Connection auto-closed
C) Error
D) Pool shutdown

‚úÖ **Ans:** B

---

### 328.

```java
setAutoCommit(false);
executeUpdate();
```

Without commit ‚Üí result?

A) Auto commit
B) Rollback on close
C) Data saved
D) Depends

‚úÖ **Ans:** B

---

### 329. (PreparedStatement)

```java
SELECT * FROM users WHERE id = ?
```

Main benefit?

A) Faster network
B) Prevent SQL injection
C) More readable
D) Index usage

‚úÖ **Ans:** B

---

### 330. (N+1 Problem)

```java
for(User u : users){
   loadOrders(u);
}
```

Problem?

A) Deadlock
B) N+1 query problem
C) Memory leak
D) Serialization issue

‚úÖ **Ans:** B

---

# üî• CONCURRENCY + DB MIX

### 331.

```sql
SELECT ... FOR UPDATE;
```

Effect?

A) Shared lock
B) Exclusive row lock
C) Table lock
D) No lock

‚úÖ **Ans:** B

---

### 332.

Two transactions update rows in opposite order ‚Üí?

A) Starvation
B) Deadlock
C) Phantom read
D) Lost update

‚úÖ **Ans:** B

---

### 333.

```java
synchronized(this){
   db.update();
}
```

Problem?

A) Deadlock safe
B) DB-level isolation
C) JVM-level only
D) Prevents race always

‚úÖ **Ans:** C
(JVM lock ‚â† DB lock)

---

### 334.

```java
ExecutorService ex = Executors.newFixedThreadPool(5);
```

Submitting 100 tasks ‚Üí?

A) 100 threads
B) 5 threads
C) Thread leak
D) Deadlock

‚úÖ **Ans:** B

---

### 335.

```java
ex.submit(() -> while(true){});
```

Effect?

A) Deadlock
B) Thread starvation
C) CPU hog
D) All

‚úÖ **Ans:** D

---

# üß† SYSTEM DESIGN EDGE CASES

### 336.

Which isolation avoids phantom reads?

A) Read committed
B) Repeatable read
C) Serializable
D) Read uncommitted

‚úÖ **Ans:** C

---

### 337.

Which cache eviction strategy avoids stale data?

A) LRU
B) TTL
C) LFU
D) FIFO

‚úÖ **Ans:** B

---

### 338.

Which causes thundering herd?

A) Cache miss spike
B) DB index
C) GC
D) Deadlock

‚úÖ **Ans:** A

---

### 339.

Which protocol is stateless?

A) TCP
B) FTP
C) HTTP
D) SMTP

‚úÖ **Ans:** C

---

### 340.

Which DB index supports range queries best?

A) Hash
B) B-Tree
C) Bitmap
D) Heap

‚úÖ **Ans:** B

---

## ‚úÖ END OF PART 4 (301‚Äì400)

---

## ‚è≠Ô∏è NEXT (FINAL)

Reply **PART 5** for:

### üî• PART 5 (401‚Äì500)

**Advanced Java + Spring + Tricky MCQs**

* Spring transactional traps
* proxy vs AOP bugs
* async pitfalls
* memory leaks
* JWT security bugs
* microservice race conditions

If you want **Spring Boot‚Äìheavy** or **System Design oriented**, tell me before PART 5 and I‚Äôll tune it.
