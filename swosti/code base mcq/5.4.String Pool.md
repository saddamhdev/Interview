Perfect! Let me explain **String Pool** in detail.

---

## **What is String Pool?**

**String Pool** is a **special memory region** in Java where **duplicate strings are stored only once** to save memory.

```
String Pool (Memory):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  "hello"                        â”‚
â”‚  "world"                        â”‚
â”‚  "java"                         â”‚
â”‚  "programming"                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## **How String Pool Works:**

### **Example 1: Same String - Only ONE object created**

```java
String a = "hello";
String b = "hello";
String c = "hello";

System.out.println(a == b);  // true
System.out.println(b == c);  // true
System.out.println(a == c);  // true
```

**Memory Diagram:**
```
String Pool:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   "hello"        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†‘      â†‘      â†‘
     a      b      c
```

**Why?** All three variables point to the **SAME object** in String Pool.

---

### **Example 2: Different Strings - Separate objects**

```java
String x = "apple";
String y = "banana";
String z = "apple";

System.out.println(x == z);  // true (same "apple")
System.out.println(x == y);  // false (different strings)
```

**Memory Diagram:**
```
String Pool:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   "apple"        â”‚
â”‚   "banana"       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†‘      â†‘      
     x      y      
     â†‘
     z (same as x)
```

---

## **String Pool vs Heap Memory:**

### **Using Literals (goes to String Pool) âœ…**

```java
String a = "hello";  // String Pool
```

**Memory:**
```
String Pool: ["hello"]
     â†‘
     a
```

---

### **Using `new` keyword (goes to Heap) âŒ**

```java
String b = new String("hello");  // Heap Memory
```

**Memory:**
```
String Pool: ["hello"]
Heap: ["hello"] â† new object created
     â†‘
     b
```

---

## **Real Example: Pool vs Heap**

```java
String a = "hello";              // String Pool
String b = "hello";              // String Pool (reused)
String c = new String("hello");  // Heap Memory

System.out.println(a == b);  // true (same reference)
System.out.println(a == c);  // false (different objects)
System.out.println(a.equals(c));  // true (same content)
```

**Memory Diagram:**
```
String Pool:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ "hello"  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†‘  â†‘
   a  b

Heap:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ "hello"  â”‚ â† new String()
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†‘
   c
```

---

## **When String Goes to Pool?**

| Method | Goes to Pool? | Example |
|--------|---|---------|
| **Literal** | âœ… YES | `String s = "hello";` |
| **Concatenation (compile-time)** | âœ… YES | `String s = "hel" + "lo";` |
| **`new` keyword** | âŒ NO | `String s = new String("hello");` |
| **Concatenation (runtime)** | âŒ NO | `String s = a + b;` |
| **`.intern()`** | âœ… YES | `s.intern();` |

---

## **Practical Examples:**

### **Example 1: Literal Strings (Pool)**

```java
String country1 = "India";
String country2 = "India";
String country3 = "India";

System.out.println(country1 == country2);  // true
System.out.println(country2 == country3);  // true
```

**Memory Usage:** Only 1 object created âœ…

---

### **Example 2: Using `new` (Heap)**

```java
String country1 = new String("India");
String country2 = new String("India");

System.out.println(country1 == country2);  // false
```

**Memory Usage:** 2 separate objects created âŒ (wasteful!)

---

### **Example 3: `.intern()` Method**

```java
String a = new String("hello");  // Heap
String b = "hello";              // Pool

System.out.println(a == b);           // false (different)
System.out.println(a.intern() == b);  // true (intern adds to pool)
```

**What `.intern()` does:**
- If string exists in pool â†’ returns reference to pool
- If not â†’ adds it to pool, then returns reference

---

## **Why String Pool Exists?**

**Problem:** Strings are used A LOT in programs.

```java
String user1 = "John";
String user2 = "John";
String user3 = "John";
// ... thousands of times
```

**Without Pool:** 1000 copies of "John" in memory âŒ (wasteful)

**With Pool:** Only 1 copy of "John" in memory âœ… (efficient)

---

## **Memory Comparison:**

```java
// Without String Pool (wasteful)
String a = new String("hello");  // 100 bytes
String b = new String("hello");  // 100 bytes
String c = new String("hello");  // 100 bytes
// Total: 300 bytes âŒ

// With String Pool (efficient)
String a = "hello";  // 100 bytes (in pool)
String b = "hello";  // reused from pool
String c = "hello";  // reused from pool
// Total: 100 bytes âœ…
```

---

## **Location of String Pool:**

| Java Version | Location |
|---|---|
| **Java 7+** | **Heap Memory** (with garbage collection) |
| **Before Java 7** | PermGen (separate from heap) |

---

## **Quick Reference:**

```java
// âœ… Uses String Pool (Efficient)
String s1 = "hello";
String s2 = "hello";
s1 == s2;  // true

// âŒ Doesn't use Pool (Wasteful)
String s3 = new String("hello");
s1 == s3;  // false

// âœ… Compare values (always safe)
s1.equals(s3);  // true
```

---

## **Summary Table:**

| Concept | Details |
|---------|---------|
| **String Pool** | Special memory area for storing unique strings |
| **Location** | Heap Memory (Java 7+) |
| **Purpose** | Save memory by reusing duplicate strings |
| **Literals** | Automatically added to pool |
| **`new` keyword** | Bypasses pool, creates new object |
| **`.intern()`** | Manually add string to pool |
| **Comparison** | Use `.equals()`, not `==` |

**Golden Rule:** 
- String Pool = **Memory optimization** âœ…
- Always use `.equals()` for String comparison ğŸ‘
