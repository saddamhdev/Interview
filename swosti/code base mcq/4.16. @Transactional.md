‡¶®‡¶æ ‚ùå ‚Äî **`@Transactional` ‡¶∂‡ßÅ‡¶ß‡ßÅ lazy loading-‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶®‡¶æ**‡•§
Lazy loading ‡¶π‡¶≤‡ßã **‡¶è‡¶ï‡¶ü‡¶æ side-effect**, ‡¶Ü‡¶∏‡¶≤ ‡¶ï‡¶æ‡¶ú ‡¶Ü‡¶∞‡¶ì ‡¶¨‡ßú‡•§

‡¶ö‡¶≤ **‡¶è‡¶ï‡¶¶‡¶Æ ‡¶™‡¶∞‡¶ø‡¶∑‡ßç‡¶ï‡¶æ‡¶∞‡¶≠‡¶æ‡¶¨‡ßá** ‡¶¶‡ßá‡¶ñ‡¶ø üëá

---

## üîπ `@Transactional` ‡¶Ü‡¶∏‡¶≤‡ßá ‡¶ï‡ßá‡¶®?

### üéØ Core purpose

> **Database operations ‡¶ï‡ßá ‡¶è‡¶ï‡¶ü‡¶ø‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ transaction-‡¶è‡¶∞ ‡¶≠‡¶ø‡¶§‡¶∞‡ßá ‡¶ö‡¶æ‡¶≤‡¶æ‡¶®‡ßã**
> ‡¶Ø‡¶æ‡¶§‡ßá **data consistency, commit, rollback** ‡¶†‡¶ø‡¶ï ‡¶•‡¶æ‡¶ï‡ßá‡•§

---

## 1Ô∏è‚É£ Lazy loading (Yes, but only one reason)

```java
@ManyToOne(fetch = LAZY)
```

```java
@Transactional
public Order getOrder(Long id) {
    Order o = repo.findById(id).get();
    o.getUser(); // ‚úÖ works
    return o;
}
```

üëâ ‡¶ï‡¶æ‡¶∞‡¶£:

* Transaction open
* Hibernate session alive
* Lazy entity load ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º

üìå **‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶è‡¶ü‡¶æ main reason ‡¶®‡¶æ**

---

## 2Ô∏è‚É£ Data consistency (Most important reason ‚≠ê)

```java
@Transactional
public void transfer() {
    debit(from, 100);
    credit(to, 100);
}
```

‚ùå ‡¶Æ‡¶æ‡¶ù‡¶ñ‡¶æ‡¶®‡ßá error ‡¶π‡¶≤‡ßá?

‚û°Ô∏è **Rollback**
‚û°Ô∏è Half-update ‡¶π‡¶¨‡ßá ‡¶®‡¶æ

---

## 3Ô∏è‚É£ Atomic operation

```java
@Transactional
public void createOrder() {
    saveOrder();
    saveItems();
    savePayment();
}
```

‚úîÔ∏è ‡¶∏‡¶¨ ‡¶∏‡¶´‡¶≤ ‚Üí COMMIT
‚ùå ‡¶è‡¶ï‡¶ü‡¶æ fail ‚Üí ‡¶∏‡¶¨ ROLLBACK

---

## 4Ô∏è‚É£ Isolation & concurrency control

* Dirty read prevent
* Lost update avoid
* Consistent snapshot

---

## 5Ô∏è‚É£ Performance optimization

```java
@Transactional(readOnly = true)
public List<Order> findAll() { ... }
```

‚úîÔ∏è No dirty checking
‚úîÔ∏è Faster reads
‚úîÔ∏è Lower memory usage

---

## 6Ô∏è‚É£ Automatic flush control

Hibernate ‡¶ï‡¶ñ‡¶® DB ‡¶§‡ßá ‡¶≤‡¶ø‡¶ñ‡¶¨‡ßá ‚Üí `@Transactional` control ‡¶ï‡¶∞‡ßá

---

## ‚ùå What happens without `@Transactional`?

* Each repo call ‚Üí separate transaction
* Partial updates possible
* Lazy loading crash
* Hard to debug bugs üòµ

---

## üîÅ Summary Table

| Use case           | @Transactional needed? |
| ------------------ | ---------------------- |
| Lazy loading       | ‚úÖ                      |
| Multiple DB writes | ‚úÖ                      |
| Money transfer     | ‚úÖ                      |
| Read consistency   | ‚úÖ                      |
| Performance tuning | ‚úÖ                      |
| Single simple read | Optional               |

---

## üéØ Interview One-liner

> **`@Transactional` is not only for lazy loading; it ensures atomicity, consistency, isolation, rollback, and proper session management.**

---

## üß† Memory trick

> **Lazy loading = bonus**
> **Transaction safety = main job**

---

‡¶Ø‡¶¶‡¶ø ‡¶ö‡¶æ‡¶ì, ‡¶Ü‡¶Æ‡¶ø next-‡¶è explain ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶ø:

* `readOnly=true` ‡¶ï‡ßÄ optimize ‡¶ï‡¶∞‡ßá
* Transaction propagation
* Common production bugs without transaction
* Real SQL flow with/without `@Transactional`

‡¶¨‡¶≤‡¶≤‡ßá‡¶á ‡¶¨‡¶≤‡ßã üëç
